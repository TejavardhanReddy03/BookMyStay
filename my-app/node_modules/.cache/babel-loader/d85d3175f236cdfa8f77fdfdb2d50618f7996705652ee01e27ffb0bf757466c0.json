{"ast":null,"code":"import React,{useContext,useState}from'react';import{Usercontext}from'../globalcontext/Usercontext';import{useParams}from'react-router-dom';import axios from'axios';import{Navigate}from'react-router-dom';import Placespage from'./Placespage';import AccountNav from'../AccountNav';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Account(){const{user,ready,setuser}=useContext(Usercontext);const[redirect,setredirect]=useState(null);let{subpath}=useParams();async function logout(){await axios.post('/logout');setredirect('/');setuser(null);}if(!subpath){subpath='profile';}console.log(subpath);let content;if(redirect){return/*#__PURE__*/_jsx(Navigate,{to:redirect});}if(!ready){console.log(\"not ready yet\");return'Loading...';}if(ready&&!user&&!redirect){return/*#__PURE__*/_jsx(Navigate,{to:'/login'});}if(subpath==='profile'){content=/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-lg mx-auto\",children:[\"Logged in as \",user.name,\" (\",user.email,\")\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"primary max-w-sm mt-2\",children:\"Logout\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(AccountNav,{}),content,subpath==='places'&&/*#__PURE__*/_jsx(Placespage,{})]});}","map":{"version":3,"names":["React","useContext","useState","Usercontext","useParams","axios","Navigate","Placespage","AccountNav","jsx","_jsx","jsxs","_jsxs","Account","user","ready","setuser","redirect","setredirect","subpath","logout","post","console","log","content","to","className","children","name","email","onClick"],"sources":["C:/Users/tejav/Downloads/hotel_project/my-app/src/components/Account.js"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport { Usercontext } from '../globalcontext/Usercontext'\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Navigate } from 'react-router-dom';\r\nimport Placespage from './Placespage';\r\nimport AccountNav from '../AccountNav';\r\n\r\nexport default function Account() {\r\n    const {user,ready,setuser}=useContext(Usercontext);\r\n    const [redirect,setredirect]=useState(null)\r\n    let {subpath}=useParams();\r\n    async function logout() {\r\n      await axios.post('/logout');\r\n      setredirect('/');\r\n      setuser(null);\r\n    }\r\n    \r\n    if (!subpath) {\r\n        subpath = 'profile';\r\n      }\r\n      console.log(subpath);\r\n      let content;\r\n      if (redirect) {\r\n        return <Navigate to={redirect} />\r\n      }\r\n     \r\n     \r\n     \r\n    if (!ready) {\r\n      console.log(\"not ready yet\"); \r\n        return 'Loading...';\r\n       \r\n       \r\n      }\r\n    \r\n      if (ready && !user && !redirect) {\r\n        return <Navigate to={'/login'} />\r\n      }\r\n      if(subpath === 'profile'){\r\n        content = (\r\n          <div className=\"text-center max-w-lg mx-auto\">\r\n            Logged in as {user.name} ({user.email})<br />\r\n            <button onClick={logout} className=\"primary max-w-sm mt-2\">Logout</button>\r\n          </div>\r\n        );\r\n       \r\n      }\r\n     \r\n    \r\n    \r\n    \r\n\r\n  return (\r\n    <div className=''>\r\n       <AccountNav/>\r\n          {content}\r\n\r\n        {subpath === 'places' && (\r\n        <Placespage />\r\n      )}\r\n        \r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,WAAW,KAAQ,8BAA8B,CAC1D,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,UAAU,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAC9B,KAAM,CAACC,IAAI,CAACC,KAAK,CAACC,OAAO,CAAC,CAACf,UAAU,CAACE,WAAW,CAAC,CAClD,KAAM,CAACc,QAAQ,CAACC,WAAW,CAAC,CAAChB,QAAQ,CAAC,IAAI,CAAC,CAC3C,GAAI,CAACiB,OAAO,CAAC,CAACf,SAAS,CAAC,CAAC,CACzB,cAAe,CAAAgB,MAAMA,CAAA,CAAG,CACtB,KAAM,CAAAf,KAAK,CAACgB,IAAI,CAAC,SAAS,CAAC,CAC3BH,WAAW,CAAC,GAAG,CAAC,CAChBF,OAAO,CAAC,IAAI,CAAC,CACf,CAEA,GAAI,CAACG,OAAO,CAAE,CACVA,OAAO,CAAG,SAAS,CACrB,CACAG,OAAO,CAACC,GAAG,CAACJ,OAAO,CAAC,CACpB,GAAI,CAAAK,OAAO,CACX,GAAIP,QAAQ,CAAE,CACZ,mBAAOP,IAAA,CAACJ,QAAQ,EAACmB,EAAE,CAAER,QAAS,CAAE,CAAC,CACnC,CAIF,GAAI,CAACF,KAAK,CAAE,CACVO,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAC1B,MAAO,YAAY,CAGrB,CAEA,GAAIR,KAAK,EAAI,CAACD,IAAI,EAAI,CAACG,QAAQ,CAAE,CAC/B,mBAAOP,IAAA,CAACJ,QAAQ,EAACmB,EAAE,CAAE,QAAS,CAAE,CAAC,CACnC,CACA,GAAGN,OAAO,GAAK,SAAS,CAAC,CACvBK,OAAO,cACLZ,KAAA,QAAKc,SAAS,CAAC,8BAA8B,CAAAC,QAAA,EAAC,eAC/B,CAACb,IAAI,CAACc,IAAI,CAAC,IAAE,CAACd,IAAI,CAACe,KAAK,CAAC,GAAC,cAAAnB,IAAA,QAAK,CAAC,cAC7CA,IAAA,WAAQoB,OAAO,CAAEV,MAAO,CAACM,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,EACvE,CACN,CAEH,CAMJ,mBACEf,KAAA,QAAKc,SAAS,CAAC,EAAE,CAAAC,QAAA,eACdjB,IAAA,CAACF,UAAU,GAAC,CAAC,CACTgB,OAAO,CAETL,OAAO,GAAK,QAAQ,eACrBT,IAAA,CAACH,UAAU,GAAE,CACd,EAEE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}