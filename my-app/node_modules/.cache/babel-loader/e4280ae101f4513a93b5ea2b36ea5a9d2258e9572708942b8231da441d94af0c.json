{"ast":null,"code":"import React,{useContext}from'react';import{Link,Navigate}from'react-router-dom';import{useState}from'react';import axios from'axios';import{Usercontext}from'../globalcontext/Usercontext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Loginpage(){const{setuser}=useContext(Usercontext);const[email,setemail]=useState();const[password,setpassword]=useState();const[redirect,setredirect]=useState(false);async function loginuser(ev){ev.preventDefault();try{const{data}=await axios.post('/login',{email,password});setuser(data);alert('login succesful');setredirect(true);}catch(e){alert('try after sometime');}}if(redirect===true)return/*#__PURE__*/_jsx(Navigate,{to:'/'});return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-around \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-16  w-1/3 gap-4 p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"block text-center mb-2 p-2 font-bold text-2xl\",children:\"Login \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:loginuser,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email  : name@gmail.com\",value:email,className:\"block rounded-xl w-full mb-2 p-2\",onChange:ev=>{setemail(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"enter password\",value:password,className:\"block rounded-xl w-full mb-2 p-2\",onChange:ev=>{setpassword(ev.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-300 text-white mb-2 p-2\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Not a registered user ?\",/*#__PURE__*/_jsx(Link,{to:'/register',className:\"underline font-bold\",children:\"Register\"})]})]})]})});}","map":{"version":3,"names":["React","useContext","Link","Navigate","useState","axios","Usercontext","jsx","_jsx","jsxs","_jsxs","Loginpage","setuser","email","setemail","password","setpassword","redirect","setredirect","loginuser","ev","preventDefault","data","post","alert","e","to","className","children","onSubmit","type","placeholder","value","onChange","target"],"sources":["C:/Users/tejav/Downloads/hotel_project/my-app/src/components/Loginpage.js"],"sourcesContent":["import React, { useContext } from 'react'\r\nimport { Link, Navigate } from 'react-router-dom'\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Usercontext } from '../globalcontext/Usercontext';\r\n\r\nexport default function Loginpage() {\r\n  const {setuser}=useContext(Usercontext);\r\n   \r\n    const [email,setemail]=useState();\r\n    const [password,setpassword]=useState();\r\n    const [redirect,setredirect]=useState(false);\r\n    async function loginuser(ev){\r\n        ev.preventDefault();\r\n       try { const {data}=await axios.post('/login',{\r\n            \r\n            email,\r\n            password,\r\n        });\r\n        setuser(data);\r\n        alert('login succesful');\r\n        setredirect(true);\r\n    }catch(e){\r\n      alert('try after sometime');\r\n    }\r\n    }\r\n    if(redirect === true)return <Navigate to={'/'}/> \r\n      return (\r\n        <div className='flex items-center justify-around '>\r\n        <div className='mt-16  w-1/3 gap-4 p-4'>\r\n           <h1 className='block text-center mb-2 p-2 font-bold text-2xl'>Login </h1>\r\n           <form onSubmit={loginuser}>\r\n           \r\n           <input type=\"email\" placeholder='email  : name@gmail.com' value={email} \r\n           className='block rounded-xl w-full mb-2 p-2' onChange={(ev)=> {setemail(ev.target.value)}} />\r\n           <input type=\"password\" placeholder='enter password' value={password}\r\n            className='block rounded-xl w-full mb-2 p-2' onChange={(ev)=> {setpassword(ev.target.value)}} />\r\n           <button className=\"bg-red-300 text-white mb-2 p-2\">Login</button>\r\n           <div>\r\n           Not a registered user ?\r\n           <Link to={'/register'} className='underline font-bold'>\r\n               Register\r\n           </Link>\r\n           \r\n           </div>\r\n           </form>\r\n           \r\n  \r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,IAAI,CAAEC,QAAQ,KAAQ,kBAAkB,CACjD,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3D,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CAClC,KAAM,CAACC,OAAO,CAAC,CAACX,UAAU,CAACK,WAAW,CAAC,CAErC,KAAM,CAACO,KAAK,CAACC,QAAQ,CAAC,CAACV,QAAQ,CAAC,CAAC,CACjC,KAAM,CAACW,QAAQ,CAACC,WAAW,CAAC,CAACZ,QAAQ,CAAC,CAAC,CACvC,KAAM,CAACa,QAAQ,CAACC,WAAW,CAAC,CAACd,QAAQ,CAAC,KAAK,CAAC,CAC5C,cAAe,CAAAe,SAASA,CAACC,EAAE,CAAC,CACxBA,EAAE,CAACC,cAAc,CAAC,CAAC,CACpB,GAAI,CAAE,KAAM,CAACC,IAAI,CAAC,CAAC,KAAM,CAAAjB,KAAK,CAACkB,IAAI,CAAC,QAAQ,CAAC,CAExCV,KAAK,CACLE,QACJ,CAAC,CAAC,CACFH,OAAO,CAACU,IAAI,CAAC,CACbE,KAAK,CAAC,iBAAiB,CAAC,CACxBN,WAAW,CAAC,IAAI,CAAC,CACrB,CAAC,MAAMO,CAAC,CAAC,CACPD,KAAK,CAAC,oBAAoB,CAAC,CAC7B,CACA,CACA,GAAGP,QAAQ,GAAK,IAAI,CAAC,mBAAOT,IAAA,CAACL,QAAQ,EAACuB,EAAE,CAAE,GAAI,CAAC,CAAC,CAC9C,mBACElB,IAAA,QAAKmB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAClDlB,KAAA,QAAKiB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACpCpB,IAAA,OAAImB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cACzElB,KAAA,SAAMmB,QAAQ,CAAEV,SAAU,CAAAS,QAAA,eAE1BpB,IAAA,UAAOsB,IAAI,CAAC,OAAO,CAACC,WAAW,CAAC,yBAAyB,CAACC,KAAK,CAAEnB,KAAM,CACvEc,SAAS,CAAC,kCAAkC,CAACM,QAAQ,CAAGb,EAAE,EAAI,CAACN,QAAQ,CAACM,EAAE,CAACc,MAAM,CAACF,KAAK,CAAC,EAAE,CAAE,CAAC,cAC7FxB,IAAA,UAAOsB,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,gBAAgB,CAACC,KAAK,CAAEjB,QAAS,CACnEY,SAAS,CAAC,kCAAkC,CAACM,QAAQ,CAAGb,EAAE,EAAI,CAACJ,WAAW,CAACI,EAAE,CAACc,MAAM,CAACF,KAAK,CAAC,EAAE,CAAE,CAAC,cACjGxB,IAAA,WAAQmB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,OAAK,CAAQ,CAAC,cACjElB,KAAA,QAAAkB,QAAA,EAAK,yBAEL,cAAApB,IAAA,CAACN,IAAI,EAACwB,EAAE,CAAE,WAAY,CAACC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,UAEvD,CAAM,CAAC,EAEF,CAAC,EACA,CAAC,EAGL,CAAC,CACH,CAAC,CAEZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}